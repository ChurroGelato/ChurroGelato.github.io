<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://ribeirovidal.com/ name=base><meta content=MRV property=og:title><meta content="Matheus Ribeiro Vidal - Personal Website" property=og:description><meta content=https://ribeirovidal.com/icons/meta_banner.png property=og:image><meta content=https://ribeirovidal.com/ property=og:url><meta content=website property=og:type><title>
        
        Deciding if strictly one shake of an orange juice bottle is enough to mix it for breakfast
        
    </title><meta content="Deciding if strictly one shake of an orange juice bottle is enough to mix it for breakfast" property=og:title><meta content="Multiphase CFD simulations with analytical verification of mixing in container under sudden acceleration and deceleration" property=og:description><meta content="Multiphase CFD simulations with analytical verification of mixing in container under sudden acceleration and deceleration" name=description><link href=/icons/caja_acerola.ico rel=icon type=image/png><link href=https://cdn.jsdelivr.net/npm/jetbrains-mono@1.0.6/css/jetbrains-mono.min.css rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/@fontsource/space-grotesk@4.5.8/index.min.css rel=stylesheet><script data-host-url=https://stats.mywebsite.com data-website-id=43929cd1-1e83.... defer src=/js/imamu.js></script><script async data-goatcounter=https://13495561.goatcounter.com/count src=https://ribeirovidal.com/js/count.js></script><noscript><img src="https://13495561.goatcounter.com//count?p=/projects/oj/&t=Deciding if strictly one shake of an orange juice bottle is enough to mix it for breakfast"></noscript><script src=https://ribeirovidal.com/js/codeblock.js></script><script src=https://ribeirovidal.com/js/toc.js></script><script src=https://ribeirovidal.com/js/note.js></script><script>MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
            }
        };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link href=https://ribeirovidal.com/atom.xml rel=alternate title=MRV type=application/atom+xml><link href=https://ribeirovidal.com/theme/light.css rel=stylesheet><link href=https://ribeirovidal.com/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://ribeirovidal.com/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://ribeirovidal.com/main.css media=screen rel=stylesheet><script src="https://ribeirovidal.com/js/searchElasticlunr.min.js?h=b6d784e207d8794b3e43" defer></script><body><div class=content><header><div class=main><a href=https://ribeirovidal.com/>MRV</a><div class=socials><a class=social href=https://www.linkedin.com/in/matheusribeirovidal/ rel=me> <img alt=linkedin src=https://ribeirovidal.com/icons/social/linkedin.svg> </a><a class=social href=mailto:matheus@ribeirovidal.com rel=me> <img alt=email src=https://ribeirovidal.com/icons/social/email.svg> </a><a class=social href=https://www.instagram.com/theusvid/ rel=me> <img alt=instagram src=https://ribeirovidal.com/icons/social/instagram.svg> </a><a class=social href=https://orcid.org/0009-0009-2651-461X rel=me> <img alt=orcid src=https://ribeirovidal.com/icons/social/orcid.svg> </a><a class=social href=https://github.com/ChurroGelato rel=me> <img alt=github src=https://ribeirovidal.com/icons/social/github.svg> </a><a class=social href=https://churrogelato.itch.io/ rel=me> <img alt=itch.io src=https://ribeirovidal.com/icons/social/itchio.svg> </a></div></div><nav><a href=https://ribeirovidal.com/posts style=margin-left:.25em>/posts</a><a href=https://ribeirovidal.com/projects style=margin-left:.25em>/projects</a><a href=https://ribeirovidal.com/about style=margin-left:.25em>/about</a><a href=https://ribeirovidal.com/tags style=margin-left:.25em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://ribeirovidal.com/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://ribeirovidal.com/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://ribeirovidal.com/icons/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><main><article><div class=title><div class=page-header>Deciding if strictly one shake of an orange juice bottle is enough to mix it for breakfast<span class=primary-color style=font-size:1.6em>.</span></div><div class=meta>Posted on <time>2025-03-27</time> :: Updated on <time>2025-04-11</time> :: <time>3</time> min read :: 461 Words <span class=tags-label>:: Tags:</span><span class=tags> <a class=post-tag href=https://ribeirovidal.com/tags/en/>EN</a> , <a class=post-tag href=https://ribeirovidal.com/tags/cfd/>CFD</a> , <a class=post-tag href=https://ribeirovidal.com/tags/openfoam/>OpenFoam</a> </span></div></div><div class=tldr><strong>tl;dr:</strong> Using multiphase CFD simulations in OpenFoam for mixing in container under sudden acceleration</div><div class=project-pic-container><img alt="oj banner" onerror="this.onerror=null;this.src='/projects/oj.gif';" class=project-pic src=/projects/oj.png></div><div class=toc-container><h1 class=toc-title>Table of Contents</h1><ul class=toc-list><li><a href=https://ribeirovidal.com/projects/oj/#links>Links</a> <ul><li><a href=https://ribeirovidal.com/projects/oj/#to-do>To-Do</a></ul><li><a href=https://ribeirovidal.com/projects/oj/#context>Context</a><li><a href=https://ribeirovidal.com/projects/oj/#methodology>Methodology</a> <ul><li><a href=https://ribeirovidal.com/projects/oj/#which-solver-to-use>Which solver to use?</a></li><ul><li><a href=https://ribeirovidal.com/projects/oj/#multiphase-flow-using-interfoam>Multiphase flow using interFoam</a><li><a href=https://ribeirovidal.com/projects/oj/#multiphase-flow-using-intermixingfoam>Multiphase flow using interMixingFoam</a></ul><li><a href=https://ribeirovidal.com/projects/oj/#setting-up-the-simulation>Setting up the Simulation</a></li><ul><li><a href=https://ribeirovidal.com/projects/oj/#geometry-modeling>Geometry Modeling</a><li><a href=https://ribeirovidal.com/projects/oj/#meshing>Meshing</a></ul></ul></ul></div><section class=body><h1 id=links>Links</h1><ul><li><a href=https://github.com/ChurroGelato/oj>GitHub repo</a></ul><h2 id=to-do>To-Do</h2><ul><li><del>Find out which solver to use</del><li>Set up and run sim<li>Post-process results<li>Verify results with analytical formulas</ul><h1 id=context>Context</h1><p>This project idea came to me during breakfast <a href=/posts/oj-problem>and you can check out in this blog post</a> why it is, most likely, a virtual waste of effort and computing power.<p>The basic idea is to check if it is enough to shake my orange juice bottle <em>only</em> once to appropriately mix the pulp to the juice before pouring into the cup.<h1 id=methodology>Methodology</h1><h2 id=which-solver-to-use>Which solver to use?</h2><p>Naturally, this is a problem of multiphase flow, given that inside the bottle, at the very least we have to consider the presence of air and juice. I know that OpenFoam is able to deal with multiphase problems. Time for some research.<h3 id=multiphase-flow-using-interfoam>Multiphase flow using interFoam</h3><p>One possible way of simulating this would be by using a 2 phase flow simulation (air and juice inside the bottle). <a href=https://www.openfoam.com/documentation/guides/latest/doc/guide-applications-solvers-multiphase-interFoam.html>OpenFoam's interFoam</a> could be a relatively easy way of solving that, <a href="https://www.youtube.com/watch?v=wK_0s7DnMRs">there's even a great video by Rose Walker going through interFoam for 2 phase immiscible fluids</a>. The main drawback of this would be that, since we would not be simulating the pulp as it's own phase, there would be no way of determining the answer to the main question I have and we would have to determine implicitly if the results are appropriate.<p>Maybe a multiphase flow with 3 fluids could be done.<h3 id=multiphase-flow-using-intermixingfoam>Multiphase flow using interMixingFoam</h3><p>One of the best things that can happen is when you need something and you find that something without much effort or hardship. As described in <a href=https://www.openfoam.com/documentation/guides/v2012/man/interMixingFoam.html>OpenFoam's documentation</a> interMixingFoam is a:<blockquote><p>Solver for three incompressible fluids (two of which are immiscible) using VOF phase-fraction based interface capturing. With optional mesh motion and mesh topology changes including adaptive re-meshing.</blockquote><p>Beautiful.<p><em>Yes, I am well aware that air is not incompressible. But, if I could shake a bottle of juice hard enough to have to take the compressibility of air into account, I would probably be a superhero, not an engineer.</em><p>Some additional references that might be helpful at this stage are:<ul><li><a href=https://help.sim-flow.com/solvers/inter-mixing-foam>SimFlow's interMixingFoam documentation</a><li><a href=https://help.sim-flow.com/tutorials/mixing-tank>SimFlow's interMixingFoam Tutorial</a></ul><h2 id=setting-up-the-simulation>Setting up the Simulation</h2><h3 id=geometry-modeling>Geometry Modeling</h3><p>Was not too difficult, did it quickly in Fusion 360. Not going to worry too much about it now, just want to run something first, then I’ll make it better.<h3 id=meshing>Meshing</h3><p>Found this <em>very</em> useful video on <a href="https://www.youtube.com/watch?v=dUme0MUoqbk">importing Ansys Fluent meshes to OpenFoam</a>.</section></article></main><div class=giscus></div><script async crossorigin data-category=General data-category-id=DIC_kwDOON90qM4Coc9G data-emit-metadata=0 data-input-position=bottom data-lang=en data-mapping=pathname data-reactions-enabled=1 data-repo=ChurroGelato/ChurroGelato.github.io data-repo-id=R_kgDOON90qA data-strict=0 data-theme=catppuccin_macchiato src=https://giscus.app/client.js></script></div></body><footer class=page-footer><div style=text-align:center;padding:1em><p xmlns:cc=http://creativecommons.org/ns# xmlns:dct=http://purl.org/dc/terms/><span property=dct:title></span> <span property=cc:attributionName>Matheus Ribeiro Vidal</span> - <a href="https://creativecommons.org/licenses/by-sa/4.0/?ref=chooser-v1" rel="license noopener noreferrer" style=display:inline-block target=_blank> CC BY-SA 4.0 </a></div></footer>